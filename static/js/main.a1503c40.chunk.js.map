{"version":3,"sources":["StateProvider.js","components/Product.js","firebase.js","components/Home.js","components/Header.js","reducer.js","components/Subtotal.js","components/ProductCheckout.js","components/Checkout.js","components/ProductPage.js","components/Footer.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["StateContext","createContext","StateProvider","_ref","reducer","initialState","children","_jsx","Provider","value","useReducer","useStateValue","useContext","Product","id","title","image","price","rating","basket","dispatch","_jsxs","className","Array","fill","map","_","i","Link","to","concat","src","alt","onClick","addToBasket","type","item","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","Home","products","setProducts","useState","useEffect","document","unsubscribe","collection","onSnapshot","snapshot","productsData","docs","doc","product","data","productChunks","chunkArray","myArray","chunkSize","results","length","push","splice","productChunk","rowIndex","Header","btnToggle","querySelector","theme","localStorage","getItem","classList","add","remove","addEventListener","contains","setItem","clear","toggle","getBasketTotal","reduce","amount","state","action","index","findIndex","basketitem","newBasket","alert","Subtotal","useHistory","console","log","CurrencyFormat","renderText","_Fragment","decimalScale","displayType","thousandSeparator","prefix","e","ProductCheckout","hideButton","removeFromBasket","Checkout","ProductPage","productid","useParams","setProduct","get","then","description","Footer","style","display","justifyContent","alignItems","height","href","target","rel","App","user","Router","Switch","Route","exact","path","Redirect","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","React","StrictMode","getElementById","URL","process","origin","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","waitingServiceWorker","waiting","event","postMessage"],"mappings":"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","file":"static/js/main.a1503c40.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n\t<StateContext.Provider value={useReducer(reducer, initialState)}>\r\n\t\t{children}\r\n\t</StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import React from \"react\";\r\nimport \"./Product.css\";\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Product({ id, title, image, price, rating }) {\r\n\tconst [{ basket }, dispatch] = useStateValue();\r\n\r\n\tconst addToBasket = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: \"ADD_TO_BASKET\",\r\n\t\t\titem: {\r\n\t\t\t\tid: id,\r\n\t\t\t\ttitle: title,\r\n\t\t\t\timage: image,\r\n\t\t\t\tprice: price,\r\n\t\t\t\trating: rating,\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"product\">\r\n\t\t\t<div className=\"productInfo\">\r\n\t\t\t\t<p>{title}</p>\r\n\t\t\t\t<p className=\"productPrice\">\r\n\t\t\t\t\t<small>$</small>\r\n\t\t\t\t\t<strong>{price}</strong>\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"productRating\">\r\n\t\t\t\t\t{Array(rating)\r\n\t\t\t\t\t\t.fill()\r\n\t\t\t\t\t\t.map((_, i) => (\r\n\t\t\t\t\t\t\t<i key={i} className=\"fas fa-star\"></i>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t{Array(5 - rating)\r\n\t\t\t\t\t\t.fill()\r\n\t\t\t\t\t\t.map((_, i) => (\r\n\t\t\t\t\t\t\t<i key={i} className=\"far fa-star\"></i>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{id ? <Link to={`/product/${id}`}><img src={image} alt={id} /></Link> : <img src={image} alt={\"\"} />}\r\n\r\n\t\t\t<button onClick={addToBasket}>\r\n\t\t\t\t<i className=\"fas fa-shopping-basket\"></i> Add to Basket\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Product;\r\n","import firebase from \"firebase\";\r\n\r\n// const firebaseConfig = {\r\n// \tapiKey: \"AIzaSyAR7S1awI-whl6ygU8t7cZSR51WcqEUzEY\",\r\n// \tauthDomain: \"reactshoppy.firebaseapp.com\",\r\n// \tdatabaseURL: \"https://reactshoppy.firebaseio.com\",\r\n// \tprojectId: \"reactshoppy\",\r\n// \tstorageBucket: \"reactshoppy.appspot.com\",\r\n// \tmessagingSenderId: \"794772090500\",\r\n// \tappId: \"1:794772090500:web:98a042382537b014d6dcd1\",\r\n// };\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: \"AIzaSyBbCsDUsoDnj1aPWhdkTKzSs4gKe9u1UFY\",\r\n\tauthDomain: \"onlineshop-540fc.firebaseapp.com\",\r\n\tprojectId: \"onlineshop-540fc\",\r\n\tstorageBucket: \"onlineshop-540fc.appspot.com\",\r\n\tmessagingSenderId: \"503605397907\",\r\n\tappId: \"1:503605397907:web:7de275e74c7ac71d2cc066\"\r\n};\r\n  \r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.firestore();\r\n\r\nexport { db };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./Home.css\";\r\nimport Product from \"./Product\";\r\nimport { db } from \"../firebase\";\r\n\r\nfunction Home() {\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        document.title = `ElectronicShop`;\r\n\r\n        const unsubscribe = db.collection(\"products\").onSnapshot((snapshot) => {\r\n            const productsData = snapshot.docs.map((doc) => ({\r\n                id: doc.id,\r\n                product: doc.data(),\r\n            }));\r\n            setProducts(productsData);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    // Function to chunk the product array\r\n    const chunkArray = (myArray, chunkSize) => {\r\n        let results = [];\r\n        while (myArray.length) {\r\n            results.push(myArray.splice(0, chunkSize));\r\n        }\r\n        return results;\r\n    };\r\n\r\n    // Create chunks of products, with 3 products per chunk (row)\r\n    const productChunks = chunkArray([...products], 3);\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"homeContainer\">\r\n                <img className=\"homeImage\" src=\"https://images-na.ssl-images-amazon.com/images/G/15/kindle/journeys/MDUxZTAzODMt/MDUxZTAzODMt-MTlkMjQ1MmEt-w1500._CB418674021_.jpg\" alt=\"\" />\r\n                {/* Mapping over chunks to create rows */}\r\n                {productChunks.map((productChunk, rowIndex) => (\r\n                    <div key={rowIndex} className=\"homeRow\">\r\n                        {productChunk.map((product) => (\r\n                            <Product \r\n                                key={product.id} \r\n                                id={product.id} \r\n                                title={product.product.title} \r\n                                price={product.product.price} \r\n                                rating={product.product.rating} \r\n                                image={product.product.image} \r\n                            />\r\n                        ))}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport \"./Header.css\";\r\n\r\nfunction Header() {\r\n\tconst [{ basket }] = useStateValue();\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tconst btnToggle = document.querySelector(\"#themeToggle i\");\r\n\t\tconst theme = localStorage.getItem(\"theme\");\r\n\r\n\t\tif (theme === \"light\") {\r\n\t\t\tbtnToggle.classList.add(\"fa-sun\");\r\n\t\t\tbtnToggle.classList.remove(\"fa-moon\");\r\n\t\t\tdocument.querySelector(\"body\").classList.add(theme);\r\n\t\t}\r\n\r\n\t\tbtnToggle.addEventListener(\"click\", () => {\r\n\t\t\tif (btnToggle.classList.contains(\"fa-moon\")) {\r\n\t\t\t\tbtnToggle.classList.add(\"fa-sun\");\r\n\t\t\t\tbtnToggle.classList.remove(\"fa-moon\");\r\n\t\t\t\tlocalStorage.setItem(\"theme\", \"light\");\r\n\t\t\t} else {\r\n\t\t\t\tbtnToggle.classList.add(\"fa-moon\");\r\n\t\t\t\tbtnToggle.classList.remove(\"fa-sun\");\r\n\t\t\t\tlocalStorage.clear();\r\n\t\t\t}\r\n\t\t\tdocument.querySelector(\"body\").classList.toggle(\"light\");\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"header\">\r\n\t\t\t<Link className=\"link headerTitle\" to=\"/\">\r\n\t\t\t\t<h1 className=\"headerLogo\">ElectronicShop</h1>\r\n\t\t\t</Link>\r\n\r\n\t\t\t<div className=\"headerSearchContainer\">\r\n\t\t\t\t<input className=\"headerSearchInput\" type=\"text\" />\r\n\t\t\t\t<i className=\"fas fa-search headerSearchIcon\"></i>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"break\"></div>\r\n\r\n\t\t\t<div className=\"headerNavContainer\">\r\n\r\n\t\t\t\t<Link to=\"/checkout\" className=\"link\">\r\n\t\t\t\t\t<div className=\"headerOptionBasket\">\r\n\t\t\t\t\t\t<i className=\"fas fa-shopping-basket\"></i>\r\n\t\t\t\t\t\t<span className=\"headerOptionLineTwo headerBasketCount\">{basket?.length}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div id=\"themeToggle\" className=\"headerTheme\">\r\n\t\t\t\t<i className=\"far fa-moon\"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","export const initialState = {\r\n\tbasket: [],\r\n\tuser: null,\r\n};\r\n\r\nexport const getBasketTotal = (basket) => basket?.reduce((amount, item) => item.price + amount, 0);\r\n\r\nconst reducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"ADD_TO_BASKET\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbasket: [...state.basket, action.item],\r\n\t\t\t};\r\n\t\tcase \"REMOVE_FROM_BASKET\":\r\n\t\t\tconst index = state.basket.findIndex((basketitem) => basketitem.id === action.id);\r\n\r\n\t\t\tlet newBasket = [...state.basket];\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tnewBasket.splice(index, 1);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Cannot remove product. Not in cart\");\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbasket: newBasket,\r\n\t\t\t};\r\n\t\tcase \"EMPTY_BASKET\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tbasket: [],\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport \"./Subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport { getBasketTotal } from \"../reducer\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Subtotal() {\r\n\tconst history = useHistory();\r\n\tconst [{ basket }, dispatch] = useStateValue();\r\n\tconsole.log(basket);\r\n\r\n\treturn (\r\n\t\t<div className=\"subtotal\">\r\n\t\t\t<CurrencyFormat\r\n\t\t\t\trenderText={(value) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tSubtotal ({basket.length} items): <strong>{value}</strong>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\tdecimalScale={2}\r\n\t\t\t\tvalue={getBasketTotal(basket) * 1.13}\r\n\t\t\t\tdisplayType={\"text\"}\r\n\t\t\t\tthousandSeparator={true}\r\n\t\t\t\tprefix={\"$\"}\r\n\t\t\t/>\r\n\r\n\t\t\t<button\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\tif (basket.length !== 0) {\r\n\t\t\t\t\t\talert(\"Purchase successful !\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(\"Please add at least 1 item to make a purchase\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tProceed to checkout\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Subtotal;\r\n","import React from \"react\";\r\nimport \"./ProductCheckout.css\";\r\nimport { useStateValue } from \"../StateProvider\";\r\n\r\nfunction ProductCheckout({ id, image, title, price, rating, hideButton }) {\r\n\tconst [{ basket }, dispatch] = useStateValue();\r\n\r\n\tconst removeFromBasket = () => {\r\n\t\tdispatch({\r\n\t\t\ttype: \"REMOVE_FROM_BASKET\",\r\n\t\t\tid: id,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"checkoutProduct\">\r\n\t\t\t<img className=\"checkoutProductImage\" src={image} />\r\n\r\n\t\t\t<div className=\"checkoutProductInfo\">\r\n\t\t\t\t<p className=\"checkoutProductTitle\">{title}</p>\r\n\t\t\t\t<p className=\"checkoutProductPrice\">\r\n\t\t\t\t\t<small>$</small>\r\n\t\t\t\t\t<strong>{price}</strong>\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"checkoutProductRating\">\r\n\t\t\t\t\t{Array(rating)\r\n\t\t\t\t\t\t.fill()\r\n\t\t\t\t\t\t.map((_, i) => (\r\n\t\t\t\t\t\t\t<i key={i} className=\"fas fa-star\"></i>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t{Array(5 - rating)\r\n\t\t\t\t\t\t.fill()\r\n\t\t\t\t\t\t.map((_, i) => (\r\n\t\t\t\t\t\t\t<i key={i} className=\"far fa-star\"></i>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t{!hideButton && (\r\n\t\t\t\t\t<button onClick={removeFromBasket}>\r\n\t\t\t\t\t\t<i className=\"fas fa-trash-alt\"></i> Remove from Basket\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ProductCheckout;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./Checkout.css\";\r\nimport Subtotal from \"./Subtotal\";\r\nimport { useStateValue } from \"../StateProvider\";\r\nimport ProductCheckout from \"./ProductCheckout\";\r\n\r\nfunction Checkout() {\r\n\tconst [{ basket }] = useStateValue();\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.title = `Cart | ElectronicShop`;\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"checkout\">\r\n\t\t\t<div className=\"checkoutLeft\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3>Hello</h3>\r\n\t\t\t\t\t<h2 className=\"checkoutTitle\">Your shopping Basket</h2>\r\n\r\n\t\t\t\t\t{basket.map((item, i) => (\r\n\t\t\t\t\t\t<ProductCheckout key={i} id={item.id} title={item.title} image={item.image} price={item.price} rating={item.rating} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"checkoutRight\">\r\n\t\t\t\t<Subtotal />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Checkout;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { db } from \"../firebase\";\r\nimport Product from \"./Product\";\r\nimport \"./ProductPage.css\";\r\n\r\nfunction ProductPage() {\r\n\tconst { productid } = useParams();\r\n\tconst [product, setProduct] = useState({});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (productid) {\r\n\t\t\tdb.collection(\"products\")\r\n\t\t\t\t.doc(productid)\r\n\t\t\t\t.get()\r\n\t\t\t\t.then((doc) => {\r\n\t\t\t\t\tsetProduct(doc.data());\r\n\t\t\t\t});\r\n\t\t}\r\n\t}, [productid]);\r\n\r\n\treturn (\r\n\t\tproduct && (\r\n\t\t\t<div className=\"singleProductContainerOuter\">\r\n\t\t\t\t<div className=\"singleProductContainer\">\r\n\t\t\t\t\t<Product title={product?.title} price={product?.price} rating={product?.rating || 0} image={product?.image} />\r\n\t\t\t\t\t{console.log(product)}\r\n\t\t\t\t\t<div className=\"productDescription\">\r\n  \t\t\t\t\t\t<p>{product?.description}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n}\r\n\r\nexport default ProductPage;\r\n","import React from \"react\";\r\n\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t  <footer id=\"footer\" className=\"footer\" style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '50px' }}>\r\n\t\t<a href=\"https://github.com/aditbaks/ElectronicShop\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t  Made by Aditya Bakshi\r\n\t\t</a>\r\n\t  </footer>\r\n\t);\r\n  }\r\n  \r\n  \r\n\r\nexport default Footer;\r\n","import { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport Home from \"./components/Home\";\r\nimport Header from \"./components/Header\";\r\nimport Checkout from \"./components/Checkout\";\r\nimport ProductPage from \"./components/ProductPage\";\r\nimport Footer from \"./components/Footer\";\r\n\r\n\r\nimport \"./App.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\n\r\nfunction App() {\r\n\tconst [{ user, basket }, dispatch] = useStateValue();\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<Router>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/checkout\">\r\n\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t<Checkout />\r\n\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/product/:productid\">\r\n\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t<ProductPage />\r\n\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t\t<Home />\r\n\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route>\r\n\t\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reducer, { initialState } from \"./reducer\";\r\nimport { StateProvider } from \"./StateProvider\";\r\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<StateProvider initialState={initialState} reducer={reducer}>\r\n\t\t\t<App />\r\n\t\t</StateProvider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\nserviceWorkerRegistration.register({\r\n\tonUpdate: registration => {\r\n\t  const waitingServiceWorker = registration.waiting;\r\n\t  if (waitingServiceWorker) {\r\n\t\twaitingServiceWorker.addEventListener(\"statechange\", event => {\r\n\t\t  if (event.target.state === \"activated\") {\r\n        alert(\"New Verison Found. Refressing...\");\r\n        window.location.reload()\r\n\t\t  }\r\n\t\t})\r\n\t\twaitingServiceWorker.postMessage({ type: \"SKIP_WAITING\" })\r\n\t  }\r\n\t}\r\n})\r\n"],"sourceRoot":""}